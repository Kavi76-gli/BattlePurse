<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GameZone</title>

<style>
/* =========================
   ROOT + RESET
========================= */
:root {
  --neon: #00eaff;
  --neon-soft: rgba(0,234,255,0.35);
  --bg: #050b12;
  --card: #0c1622;
  --text: #eafcff;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
}

body {
  background: var(--bg);
  color: var(--text);
}

/* =========================
   PROMO BAR (TOP)
========================= */
#promoBar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 62px;
  background: linear-gradient(90deg, #001b2e, #003c66, #001b2e);
  border-bottom: 1px solid var(--neon-soft);
  z-index: 9000;
  overflow: hidden;
}

.promo-track {
  display: flex;
  align-items: center;
  height: 100%;
  gap: 16px;
  padding: 0 16px;
  animation: promoScroll 22s linear infinite;
}

.promo-item {
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(0,234,255,0.08);
  padding: 6px 12px;
  border-radius: 14px;
  box-shadow: 0 0 10px var(--neon-soft);
  white-space: nowrap;
}

.promo-item img {
  height: 36px;
  width: 36px;
  border-radius: 10px;
  object-fit: cover;
}

.promo-text {
  font-size: 13px;
  font-weight: 600;
  color: var(--neon);
}

/* Animation */
@keyframes promoScroll {
  from { transform: translateX(100%); }
  to { transform: translateX(-100%); }
}

/* =========================
   NAVBAR
========================= */
#mainNav {
  position: fixed;
  top: 62px;
  left: 0;
  width: 100%;
  height: 52px;
  background: rgba(5,11,18,0.9);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(0,234,255,0.15);
  z-index: 8500;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 14px;
}

#mainNav h1 {
  font-size: 16px;
  color: var(--neon);
  letter-spacing: 0.5px;
}

/* =========================
   SPACERS
========================= */
.top-spacer {
  height: 114px; /* promo + nav */
}

/* =========================
   PAGE CONTENT
========================= */
#pageContent {
  padding: 16px;
  padding-bottom: 90px;
}

.card {
  background: var(--card);
  border-radius: 18px;
  padding: 16px;
  margin-bottom: 14px;
  box-shadow: 0 0 15px rgba(0,234,255,0.06);
}

/* =========================
   BOTTOM NAV
========================= */
.sidebar {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 64px;
  background: rgba(5,11,18,0.95);
  border-top: 1px solid rgba(0,234,255,0.2);
  display: flex;
  justify-content: space-around;
  align-items: center;
  z-index: 8800;
}

.nav-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: #9bdfff;
  opacity: 0.8;
}

.nav-btn.active {
  color: var(--neon);
  opacity: 1;
  text-shadow: 0 0 8px var(--neon);
}

.nav-btn i {
  font-size: 18px;
}






/* =========================
   HERO BAR ‚Äì BLUE NEON
========================= */

.hero-bar {
  position: relative;
  background: linear-gradient(
    180deg,
    rgba(0,234,255,0.08),
    rgba(0,0,0,0)
  );
  border: 1px solid rgba(0,234,255,0.2);
  border-radius: 22px;
  padding: 22px 18px;
  margin-bottom: 18px;
  overflow: hidden;
  box-shadow:
    0 0 20px rgba(0,234,255,0.15),
    inset 0 0 25px rgba(0,234,255,0.05);
}

/* Glow animation layer */
.hero-glow {
  position: absolute;
  inset: -40%;
  background: radial-gradient(
    circle,
    rgba(0,234,255,0.25),
    transparent 60%
  );
  animation: heroPulse 4s ease-in-out infinite;
  pointer-events: none;
}

@keyframes heroPulse {
  0%,100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.1); }
}

.hero-title {
  position: relative;
  font-size: 20px;
  font-weight: 800;
  color: #eaffff;
  text-align: center;
  line-height: 1.3;
}

.hero-title span {
  color: var(--neon);
  text-shadow: 0 0 10px var(--neon);
}

.hero-subtitle {
  position: relative;
  margin-top: 8px;
  font-size: 13px;
  text-align: center;
  color: #9bdfff;
  opacity: 0.9;
}

/* Buttons */
.hero-actions {
  position: relative;
  margin-top: 16px;
  display: flex;
  gap: 12px;
  justify-content: center;
}

.hero-btn {
  border-radius: 14px;
  padding: 12px 16px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  border: none;
  min-width: 130px;
}

/* Primary */
.hero-btn.primary {
  background: linear-gradient(90deg, #00eaff, #0077ff);
  color: #00131f;
  box-shadow: 0 0 18px rgba(0,234,255,0.7);
}

.hero-btn.primary:active {
  transform: scale(0.97);
}

/* Secondary */
.hero-btn.ghost {
  background: transparent;
  color: var(--neon);
  border: 1px solid rgba(0,234,255,0.4);
}

.hero-btn.ghost:active {
  background: rgba(0,234,255,0.1);
}

/* =========================
   WINNERS SECTION

   /* =========================
   WINNERS SECTION
========================= */

/* =========================
   WINNER SPOTLIGHT
========================= */

.winner-spotlight {
  margin-top: 20px;
}

.winner-title {
  font-size: 15px;
  font-weight: 800;
  color: var(--neon);
  margin-bottom: 12px;
  text-shadow: 0 0 8px var(--neon-soft);
}

/* Main Card */
.winner-main-card {
  background: linear-gradient(
    180deg,
    rgba(0,234,255,0.15),
    rgba(0,0,0,0.25)
  );
  border: 1px solid rgba(0,234,255,0.3);
  border-radius: 20px;
  padding: 16px;
  box-shadow: 0 0 22px rgba(0,234,255,0.18);
  animation: fadeUp 0.5s ease;
}

/* Header */
.winner-header {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 12px;
}

.winner-avatar {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid var(--neon);
  box-shadow: 0 0 12px var(--neon);
}

.winner-name {
  font-size: 16px;
  font-weight: 800;
  color: #eaffff;
}

.winner-amount {
  font-size: 15px;
  font-weight: 900;
  color: var(--neon);
  text-shadow: 0 0 6px var(--neon);
  margin-top: 2px;
}

/* Details Grid */
.winner-details {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 14px;
}

.detail-box {
  background: rgba(0,0,0,0.4);
  border-radius: 14px;
  padding: 10px;
  border: 1px solid rgba(0,234,255,0.2);
}

.detail-label {
  font-size: 11px;
  color: #9bdfff;
  opacity: 0.9;
}

.detail-value {
  font-size: 13px;
  font-weight: 700;
  color: #eaffff;
  margin-top: 2px;
}

/* Footer */
.winner-footer {
  margin-top: 12px;
  font-size: 11px;
  color: #9bdfff;
  text-align: center;
  opacity: 0.8;
}

/* Animation */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* =========================
   TOURNAMENT LIST
========================= */

  :root {
    --neon: #00cfff;
    --neon-soft: rgba(0, 207, 255, 0.2);
    --bg-dark: #111;
    --card-dark: #1a1a1a;
    --text-light: #fff;
  }

  body { background:#111; color:var(--text-light); font-family:Poppins, sans-serif; }

  .tl-title { color: var(--neon); margin-bottom:12px; font-size:20px; }
  .tl-controls { display:flex; gap:8px; margin-bottom:12px; flex-wrap:wrap; }
  .tl-select, .tl-btn { padding:8px 12px; border-radius:8px; border:none; font-size:14px; }
  .tl-select { background: #222; color: var(--text-light); }
  .tl-btn { background: var(--neon); color: #000; font-weight:600; cursor:pointer; }
  .tl-container { display:flex; flex-wrap:wrap; gap:12px; }

  /* Top 3 leaderboard cards */
  .tl-top-wrapper { display:flex; gap:12px; flex-wrap:wrap; margin-bottom:20px; }
  .tl-top-card {
    background: var(--card-dark);
    border: 1px solid var(--neon-soft);
    padding:12px; border-radius:12px; text-align:center; flex:1;
    min-width:100px; color: var(--text-light);
    box-shadow: 0 0 12px var(--neon-soft);
  }
  .tl-top-card img { width:60px; height:60px; border-radius:50%; object-fit:cover; margin-bottom:6px; }

  /* Tournament grid */
  .tournament-grid { display:flex; flex-wrap:wrap; gap:12px; }
  .tournament-card {
    background: var(--card-dark); border-radius:12px; overflow:hidden;
    flex:1 1 200px; min-width:180px; color: var(--text-light);
    box-shadow: 0 0 10px var(--neon-soft);
  }
  .tournament-card img { width:100%; height:140px; object-fit:cover; }
  .tournament-body { padding:12px; }
  .tournament-name { font-weight:600; margin-bottom:6px; }
  .tournament-info { font-size:13px; color:#aaa; margin-bottom:6px; }
  .tournament-btn {
    margin-top:6px; padding:6px 10px; background: var(--neon); color:#000; border:none;
    border-radius:8px; cursor:pointer; font-size:13px;
  }
  .tournament-btn:hover { box-shadow: 0 0 6px var(--neon); }
  .tournament-btn-ghost {
    background:#222; color:var(--neon); border:1px solid var(--neon);
  }
  .tournament-btn-disabled { opacity:0.5; cursor:not-allowed; }









  .active-match-box {
  background: #121212;
  border: 1px solid rgba(0, 207, 255, 0.25);
  border-radius: 16px;
  padding: 16px;
  margin: 20px 0;
  box-shadow: 0 0 18px rgba(0, 207, 255, 0.15);
  color: #fff;
}

.active-title {
  margin: 0 0 12px;
  color: #00cfff;
  font-size: 18px;
}

.active-match-content p {
  margin: 6px 0;
  font-size: 14px;
}

.active-status {
  margin-top: 8px;
  font-weight: 600;
}

.active-players {
  margin-top: 12px;
  padding: 10px;
  background: #0d0d0d;
  border-radius: 10px;
  font-size: 13px;
}

.team-title {
  margin-top: 8px;
  color: #00eaff;
  font-weight: 600;
}

.active-btn {
  margin-top: 14px;
  width: 100%;
  padding: 10px;
  background: #00cfff;
  border: none;
  border-radius: 10px;
  font-weight: 700;
  cursor: pointer;
  color: #000;
}

.active-btn:hover {
  box-shadow: 0 0 12px #00cfff;
}






.join-container {
  max-width: 420px;
  margin: auto;
  padding: 20px;
  color: #fff;
}

.neon-title {
  text-align: center;
  color: #00cfff;
  text-shadow: 0 0 12px #00cfff;
}

.game-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.game-card {
  padding: 14px;
  text-align: center;
  border-radius: 12px;
  background: #111;
  border: 1px solid #00cfff44;
  cursor: pointer;
}

.game-card.active {
  background: #00cfff;
  color: #000;
  box-shadow: 0 0 14px #00cfff;
}

select, input {
  width: 100%;
  padding: 10px;
  margin: 6px 0 12px;
  border-radius: 8px;
  border: none;
  outline: none;
}

.join-btn {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  background: #00cfff;
  font-weight: bold;
  border: none;
  cursor: pointer;
}

.join-btn:hover {
  box-shadow: 0 0 14px #00cfff;
}

.outline-btn {
  margin-bottom: 10px;
  width: 100%;
  padding: 10px;
  background: transparent;
  border: 1px solid #00cfff;
  color: #00cfff;
  border-radius: 8px;
}

.note {
  font-size: 12px;
  opacity: 0.7;
}

#message {
  margin-top: 10px;
  text-align: center;
}



   .poster-section {
  padding: 16px;
}

.poster-title {
  color: #00cfff;
  margin-bottom: 12px;
  text-shadow: 0 0 10px #00cfff;
}

.poster-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 14px;
}

.poster-card {
  background: #111;
  border-radius: 14px;
  overflow: hidden;
  cursor: pointer;
  border: 1px solid #00cfff33;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.poster-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 0 16px #00cfff66;
}

.poster-card img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
}

.poster-info {
  padding: 8px;
  text-align: center;
  font-size: 14px;
  color: #fff;
  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
}

/* =========================
   BLUE NEON ACTIVE MATCH
========================= */

.neon-box {
  max-width: 420px;
  margin: 20px auto;
  padding: 18px;
  background: #020b18;
  border-radius: 14px;
  border: 1px solid #00d9ff;
  box-shadow:
    0 0 10px rgba(0, 217, 255, 0.5),
    inset 0 0 8px rgba(0, 217, 255, 0.3);
  color: #e6faff;
  font-family: "Poppins", sans-serif;
}

.neon-title {
  text-align: center;
  margin-bottom: 14px;
  font-size: 18px;
  color: #00eaff;
  text-shadow: 0 0 8px rgba(0, 234, 255, 0.9);
}

.neon-content p {
  margin: 6px 0;
  font-size: 14px;
}

.neon-content strong {
  color: #7df6ff;
}

.neon-content div {
  font-size: 13px;
  line-height: 1.6;
}

.neon-box button {
  width: 100%;
  margin-top: 14px;
  padding: 10px;
  font-size: 14px;
  font-weight: bold;
  color: #02131f;
  background: linear-gradient(135deg, #00eaff, #009dff);
  border: none;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: 0 0 12px rgba(0, 217, 255, 0.8);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.neon-box button:hover {
  transform: translateY(-1px);
  box-shadow: 0 0 18px rgba(0, 217, 255, 1);
}


/* ===============================
   BLUE NEON BUTTONS
=============================== */

.btn {
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  border-radius: 10px;
  padding: 8px 16px;
  cursor: pointer;
  transition: all 0.15s ease-in-out;
  box-shadow: 0 0 8px rgba(0, 217, 255, 0.5);
}

/* PRIMARY BUTTON (filled neon) */
.btn-primary {
  background: linear-gradient(135deg, #00eaff, #009dff);
  color: #02131f;
  border: none;
  text-shadow: 0 0 4px #00f0ff;
  box-shadow: 0 0 12px rgba(0, 217, 255, 0.8);
}

.btn-primary:hover {
  box-shadow: 0 0 18px rgba(0, 217, 255, 1);
  transform: translateY(-2px);
}

/* GHOST BUTTON (outlined neon) */
.btn-ghost {
  background: transparent;
  color: #00eaff;
  border: 2px solid #00eaff;
  text-shadow: 0 0 3px #00f0ff;
  box-shadow: 0 0 6px rgba(0, 217, 255, 0.5);
}

.btn-ghost:hover {
  box-shadow: 0 0 14px rgba(0, 217, 255, 1);
  transform: translateY(-2px);
}

/* DISABLED BUTTON */
.btn:disabled,
button[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
  box-shadow: none;
}

/* NEON BUTTON GENERAL EFFECT */
.btn, button {
  outline: none;
  user-select: none;
  font-size: 14px;
}

/* ===============================
   BLUE NEON BUTTONS (INCLUDING INLINE)
=============================== */

button {
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  border-radius: 10px;
  padding: 8px 16px;
  cursor: pointer;
  transition: all 0.15s ease-in-out;
  outline: none;
  user-select: none;
  font-size: 14px;
  text-shadow: 0 0 4px #00f0ff;
  box-shadow: 0 0 10px rgba(0, 217, 255, 0.6);
  border: none;
  color: #02131f;
  background: linear-gradient(135deg, #00eaff, #009dff);
}

/* Hover effect */
button:hover {
  box-shadow: 0 0 20px rgba(0, 217, 255, 1);
  transform: translateY(-2px);
}

/* Disabled buttons */
button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  box-shadow: none;
}

/* ===== WINNER MOBILE CARD ===== */
.winner-card-mobile {
  background: #0f172a;
  border-radius: 18px;
  padding: 14px;
  color: #fff;
  box-shadow: 0 0 18px rgba(0, 234, 255, 0.35);
  margin: 10px;
  animation: fadeUp 0.4s ease;
}

/* top row */
.match-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.match-id {
  font-size: 15px;
  font-weight: 600;
  color: #00eaff;
}

.match-sub {
  font-size: 12px;
  opacity: 0.8;
}

/* prize */
.prize-box {
  background: linear-gradient(135deg, #00eaff, #0066ff);
  padding: 6px 12px;
  border-radius: 14px;
  font-weight: bold;
  font-size: 14px;
  color: #000;
}

/* meta tags */
.match-meta {
  display: flex;
  gap: 8px;
  margin: 8px 0;
}

.match-meta span {
  background: #111;
  padding: 4px 10px;
  border-radius: 10px;
  font-size: 11px;
  color: #9bdfff;
}

/* winners */
.winner-list {
  margin-top: 10px;
}

.winner-player {
  display: flex;
  align-items: center;
  background: #111;
  padding: 10px;
  border-radius: 14px;
  margin-bottom: 8px;
}

.winner-player img {
  width: 54px;
  height: 54px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 12px;
  box-shadow: 0 0 10px #00eaff;
}

.winner-info {
  flex: 1;
}

.winner-name {
  font-weight: 600;
  font-size: 14px;
}

.winner-uid {
  font-size: 11px;
  opacity: 0.7;
}

.winner-amount {
  font-size: 14px;
  font-weight: bold;
  color: #0dfc89;
}

/* footer */
.match-time {
  margin-top: 8px;
  font-size: 11px;
  opacity: 0.6;
  text-align: right;
}

.no-winner {
  text-align: center;
  opacity: 0.6;
  padding: 12px;
}

/* animation */
@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}




/* ===============================
   ANNOUNCEMENT AREA
================================ */
.announcement-area {
  margin: 12px 0 18px;
  overflow: hidden;
}

/* Shared scroll style */
.premium-wrapper,
.support-wrapper,
.notice {
  background: #0e1624;
  border-radius: 12px;
  padding: 10px 0;
  margin-bottom: 8px;
  overflow: hidden;
  border: 1px solid rgba(0,255,255,0.15);
}

/* Scrolling text */
.premium-text,
.support-text,
.notice {
  display: inline-block;
  white-space: nowrap;
  padding-left: 100%;
  animation: scroll-left 18s linear infinite;
  font-size: 13px;
  color: #9bdfff;
}

/* Different speeds for variety */
.support-text {
  animation-duration: 22s;
  color: #7cffc4;
}

.notice {
  animation-duration: 26s;
  color: #ffd966;
  font-weight: 600;
}

/* Scroll animation */
@keyframes scroll-left {
  from {
    transform: translateX(0%);
  }
  to {
    transform: translateX(-100%);
  }
}

/* ===============================
   SUPPORT BUTTON
================================ */
.support-btn-wrapper {
  text-align: center;
  margin-top: 8px;
}

.support-btn {
  display: inline-block;
  padding: 10px 22px;
  background: linear-gradient(135deg, #00eaff, #0dfc89);
  color: #000;
  font-weight: 700;
  border-radius: 24px;
  text-decoration: none;
  font-size: 14px;
  box-shadow: 0 0 12px rgba(0,255,255,0.4);
}

.support-btn:active {
  transform: scale(0.96);
}

/* ===============================
   MOBILE OPTIMIZATION
================================ */
@media (max-width: 480px) {
  .premium-text,
  .support-text,
  .notice {
    font-size: 12px;
  }
}

/* ================= HERO SECTION ================= */
.hero {
  min-height: 60vh;              /* smaller & cleaner for mobile */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px 16px 24px;
  background: radial-gradient(circle at top, #0b1c24 0%, #000 70%);
}

.hero-content {
  width: 100%;
  max-width: 420px;
  text-align: center;
}

/* ================= TAGLINE ================= */
.bp-tagline {
  margin-top: 8px;
  font-size: 1.05rem;
  font-weight: 600;
  color: #ffffff;
  line-height: 1.4;
}

/* animated main line */
.bp-tagline span {
  display: block;
  margin-top: 4px;
  background: linear-gradient(90deg, #00eaff, #0dfc89);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  transition: opacity 0.3s ease;
}

/* ================= COMING SOON LINE ================= */
.bp-soon {
  margin-top: 10px;
  font-size: 0.9rem;
  font-weight: 500;
  color: #9bdfff;
  opacity: 0.85;
  animation: pulseText 2.5s infinite ease-in-out;
}

/* subtle pulse animation */
@keyframes pulseText {
  0% { opacity: 0.6; }
  50% { opacity: 1; }
  100% { opacity: 0.6; }
}

@keyframes pulseText {
  0% { opacity: 0.7; transform: translateY(0); }
  50% { opacity: 1; transform: translateY(-2px); }
  100% { opacity: 0.7; transform: translateY(0); }
}


.wallet-box {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: linear-gradient(135deg, #0b1c24, #111);
  border: 1px solid #00eaff44;
  border-radius: 14px;
  padding: 12px 16px;
  margin: 14px auto;
  max-width: 420px;
  box-shadow: 0 0 12px rgba(0, 234, 255, 0.15);
}

.wallet-label {
  font-size: 0.9rem;
  color: #9bdfff;
  font-weight: 500;
}

.wallet-amount {
  font-size: 1.2rem;
  font-weight: 700;
  background: linear-gradient(90deg, #00eaff, #0dfc89);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

</style>
</head>

<body>

<!-- PROMO BAR -->
<div id="promoBar">
  <div class="promo-track" id="promoTrack"></div>
</div>

<!-- NAVBAR -->
<nav id="mainNav">
  <h1>Game Zone</h1>
  <div id="navRight"></div>
</nav>

<div class="top-spacer"></div>

<!-- PAGE CONTENT -->
<!-- HERO BAR -->
<section class="hero-bar">
  <div class="hero-glow"></div>

  <h2 class="hero-title">
    Play. Compete. <span>Win Real Rewards</span>
  </h2>

  <p class="hero-subtitle">
    Join live matches & tournaments on BattlePurse
  </p>

  <div class="hero-actions">
    <button class="hero-btn primary" onclick="startPlaying()">
      üéÆ Start Playing
    </button>
    <button class="hero-btn ghost" onclick="viewTournaments()">
      üèÜ Tournaments
    </button>
  </div>
</section>





<div class="announcement-area">

  <div class="premium-wrapper">
    <span class="premium-text">
      üéÆ Welcome to GameZone! Play daily tournaments & matches, win prizes, climb the leaderboard. 
      ‚ö†Ô∏è Note: Never use hacks ‚Äî if detected, winnings will not be shared.
    </span>
  </div>

  <div class="support-wrapper">
    <span class="support-text">
      üí¨ Facing any issue? Game problem, payment delay, or match error ‚Äî contact us on Help & Support page.
    </span>
  </div>

  <div class="notice">
    üí∞ 8% of the total winning prize will be deducted by BattlePurse as a service fee.
  </div>

  <div class="support-btn-wrapper">
    <a href="help&support.html" class="support-btn">Help & Support</a>
  </div>

</div>





<!-- WINNERS SECTION -->
<section class="winner-spotlight">
  <h3 class="winner-title">üèÜ Latest Match Winner</h3>

  <div id="matches">
    <!-- Winner content injected here -->
  </div>
</section>


<!-- ================= TOURNAMENT LEADERBOARD SECTION ================= -->
<section id="tournamentLeaderboardSection" style="margin-top:35px;">
  <h2 class="tl-title">üèÖ Tournament Leaderboard</h2>

  <div class="tl-controls">
    <select id="leaderboardSelect" class="tl-select">
      <option value="">Select Tournament</option>
    </select>
    <button id="leaderboardBtn" class="tl-btn" onclick="loadLeaderboard()">
      View Leaderboard
    </button>
  </div>

  <div id="leaderboardContainer" class="tl-container"></div>
</section>

<!-- ================= TOURNAMENT LIST SECTION ================= -->
<section id="tournamentListSection">
  <h2 class="tl-title">üéÆ Available Tournaments</h2>
  <div id="tournamentList" class="tournament-grid"></div>
</section>


<!-- ================= ACTIVE MATCH BOX ================= -->
<section id="activeMatchBox" class="active-match-box" style="display:none;">
  <h3 class="active-title">üéÆ Your Active Match</h3>
  <div id="activeMatchContent" class="active-match-content"></div>
</section>


<div class="wallet-box">
  <span class="wallet-label">Wallet Balance</span>
  <span class="wallet-amount" id="walletBalance">‚Çπ0</span>
</div>


<section class="join-container">

  <h2 class="neon-title">‚ö° Quick Match</h2>

  <!-- GAME CARDS -->
  <div class="game-grid">
    <div class="game-card" data-game="Ludo">Ludo</div>
    <div class="game-card" data-game="Carrom">Carrom</div>
    <div class="game-card" data-game="8 Ball Pool">8 Ball Pool</div>
    <div class="game-card" data-game="Cricket">Cricket</div>
  </div>

  <h3 id="selectedTitle"></h3>

  <!-- FORM -->
  <div id="formArea" style="display:none;">
    
    <label>Match Type</label>
    <select id="matchType"></select>

    <label>Match Mode</label>
    <select id="matchMode"></select>

    <label>Entry Fee</label>
    <select id="fee">
      <option value="50">‚Çπ50</option>
      <option value="100">‚Çπ100</option>
      <option value="200">‚Çπ200</option>
      <option value="custom">Custom</option>
    </select>

    <input id="entryFee" type="number" placeholder="Enter custom amount" style="display:none;">

    <label id="gameUIDLabel">Game UID</label>
    <input id="gameUID" placeholder="Enter UID">

    <label>WhatsApp Number</label>
    <input id="whatsapp" placeholder="10-digit number">

    <p id="cricketNote" class="note" style="display:none;">
      ‚ÑπÔ∏è Use Facebook login profile link for Cricket
    </p>

    <button id="downloadGameBtn" class="outline-btn" style="display:none;"></button>

    <button id="joinBtn" class="join-btn">Join Match</button>

    <p id="message"></p>

  </div>

</section>



<section class="poster-section">
  <h2 class="poster-title">üî• Ongoing Room</h2>

  <div id="posterGrid" class="poster-grid">
    <!-- posters injected here -->
  </div>
</section>

<section class="hero">
  <div class="bp-tagline">
  BattlePurse ‚Äî <span id="bp-rotate">Skill Decides.</span>
</div>

<div class="bp-soon">
  üöÄ More updates coming soon‚Ä¶
</div>

</section>



<!-- BOTTOM NAV -->
<div class="sidebar">
  <div class="nav-btn active" onclick="location.href='gamezone.html'"><i>üéÆ</i><span>Game</span></div>
  <div class="nav-btn" onclick="location.href='history.html'"><i>üìú</i><span>History</span></div>
  <div class="nav-btn" onclick="location.href='leaderboard.html'"><i>üèÜ</i><span>Leaders</span></div>
  <div class="nav-btn" onclick="location.href='profile.html'"><i>üë§</i><span>Profile</span></div>
  <div class="nav-btn" onclick="location.href='more.html'"><i>‚ãØ</i><span>More</span></div>
</div>

<script>
const PROMO_API = "https://battlepurse-98-8d98.onrender.com/api/wallet/promos";


/* =========================
   HERO BUTTON ACTIONS
========================= */

function startPlaying() {
  // üëâ you can change this later if needed
  window.location.href = "./gamezone.html";
}

function viewTournaments() {
  // ‚úÖ open tournaments page
  window.location.href = "./kavi.html";
}

document.querySelectorAll(
  ".premium-text, .support-text, .notice"
).forEach(el => {
  el.addEventListener("touchstart", () => {
    el.style.animationPlayState = "paused";
  });
  el.addEventListener("touchend", () => {
    el.style.animationPlayState = "running";
  });
});




async function loadPromos() {
  try {
    const res = await fetch(PROMO_API);
    const data = await res.json();

    if (!data.success || !Array.isArray(data.promos)) return;

    const track = document.getElementById("promoTrack");
    track.innerHTML = "";

    data.promos.forEach(promo => {
      const img = promo.imageUrls?.[0];
      if (!img) return;

      const item = document.createElement("div");
      item.className = "promo-item";

      item.innerHTML = `
        <img src="${img}" alt="promo">
        <div class="promo-text">${promo.title || "New Promo Live!"}</div>
      `;

      track.appendChild(item);
    });

    // Duplicate content for smooth infinite scroll
    track.innerHTML += track.innerHTML;

  } catch (err) {
    console.error("Promo frontend error:", err);
  }
}


async function fetchWinners() {
  try {
    const res = await fetch(
      "https://battlepurse-98-8d98.onrender.com/api/wallet/matches/winners"
    );
    const data = await res.json();

    const container = document.getElementById("matches");
    container.innerHTML = "";

    if (!data.success || !data.list?.length) {
      container.innerHTML =
        '<p style="text-align:center;color:#9bdfff;">No winners yet</p>';
      return;
    }

    const matches = data.list;
    let index = 0;

    function renderMatch(i) {
      const match = matches[i];

      const winnersHTML = match.winners.length
  ? match.winners
      .map(p => `
        <div class="winner-player">

          ${
            p.avatarUrl
              ? `<img src="${p.avatarUrl}" alt="${p.name}" />`
              : ``
          }

          <div class="winner-info">
            <div class="winner-name">${p.name}</div>
           
            <div class="winner-amount">‚Çπ${p.winningPrice}</div>
          </div>

        </div>
      `)
      .join("")
  : `<p class="no-winner">Winner not declared</p>`;


      container.innerHTML = `
        <div class="winner-card-mobile">
          <div class="match-top">
            <div>
              <div class="match-id">Match ${match.matchId || ""}</div>
              <div class="match-sub">${match.game} ‚Ä¢ ${match.mode}</div>
            </div>
            <div class="prize-box">‚Çπ${match.prizeGiven}</div>
          </div>

          <div class="match-meta">
            <span>${match.type}</span>
            <span>${match.prizeSystem || "Standard"}</span>
          </div>

          <div class="winner-list">
            ${winnersHTML}
          </div>

          <div class="match-time">
            Completed: ${new Date(match.completedAt).toLocaleString()}
          </div>
        </div>
      `;
    }

    renderMatch(index);

    setInterval(() => {
      index = (index + 1) % matches.length;
      renderMatch(index);
    }, 5000);

  } catch (err) {
    console.error(err);
    document.getElementById("matches").innerHTML =
      '<p style="text-align:center;color:red;">Failed to load winners</p>';
  }
}


/* =========================
   CONFIG
========================= */
const API_BASE = "https://battlepurse-98-8d98.onrender.com/api/wallet";
const token = localStorage.getItem("token");

/* =========================
   LOAD TOURNAMENTS
========================= */
function formatTournamentDateTime(date, time) {
  if (!date && !time) return "TBA";

  try {
    const d = date ? new Date(date) : null;

    const dateStr = d
      ? d.toLocaleDateString("en-IN", {
          day: "2-digit",
          month: "short",
          year: "numeric"
        })
      : "";

    return `${dateStr} ${time || ""}`.trim();
  } catch {
    return "TBA";
  }
}


async function loadTournaments() {
  try {
    const res = await fetch(`${API_BASE}/tournaments`, {
      headers: token ? { Authorization: "Bearer " + token } : {}
    });

    const data = await res.json();
    if (!data.success || !data.tournaments) return;

    const list = document.getElementById("tournamentList");
    const select = document.getElementById("leaderboardSelect");

    list.innerHTML = "";
    select.innerHTML = `<option value="">Select Tournament</option>`;

    data.tournaments.forEach(t => {
      /* ---------- Dropdown ---------- */
      const opt = document.createElement("option");
      opt.value = t._id;
      opt.textContent = `${t.name} (${t.game})`;
      select.appendChild(opt);

      /* ---------- Lock logic ---------- */
      const isLocked =
        t.roomUploaded ||
        t.roomInfo?.roomId ||
        t.roomId ||
        t.resultsUploaded;

      /* ---------- Card ---------- */
      const card = document.createElement("div");
      card.className = "tournament-card";
      card.innerHTML = `
        <img src="${t.posterUrl || 'https://cdn-icons-png.flaticon.com/512/147/147144.png'}">
        <div class="tournament-body">
          <div class="tournament-name">${t.name}</div>
          <div class="tournament-info">
  ${t.game} ‚Ä¢ ${t.mode} ‚Ä¢ PrizePool ‚Çπ${t.prizePool}
</div>

<div style="font-size:13px;color:var(--muted,#9aa);margin-bottom:6px">
  ${(t.joinedUsers?.length || t.joined || 0)}/${t.maxPlayers ?? "N/A"} players
</div>

<div style="font-size:13px;color:var(--muted,#9aa);margin-bottom:10px">
  Starts: ${formatTournamentDateTime(t.date, t.time)}
</div>

          

          <div style="display:flex;gap:8px;flex-wrap:wrap">
  <button class="btn btn-primary"
    onclick="joinTournament('${t._id}')">
    Join
  </button>
</div>



            ${
              isLocked
                ? `<button disabled style="opacity:0.5;cursor:not-allowed;">
                    Leave Locked üîí
                  </button>`
                : `<button class="btn btn-ghost"
                    onclick="leaveTournament('${t._id}')">
                    Leave
                  </button>`
            }

            <button class="btn btn-ghost"
              onclick="viewTournament('${t._id}')">
              View
            </button>
          </div>
        </div>
      `;

      list.appendChild(card);
    });

  } catch (err) {
    console.error("Load tournaments error:", err);
  }
}

/* =========================
   JOIN TOURNAMENT
========================= */
async function joinTournament(id){ if(!token){ alert('Login required'); window.location.href='login.html'; return; } window.location.href = `uid.html?id=${id}`; }


/* =========================
   LEAVE TOURNAMENT
========================= */
async function leaveTournament(tournamentId) {
  try {
    if (!token) {
      alert("Please login first");
      return;
    }

    if (!confirm("Are you sure you want to leave this tournament?")) return;

    const res = await fetch(`${API_BASE}/leave/${tournamentId}`, {
      method: "DELETE",
      headers: {
        Authorization: "Bearer " + token
      }
    });

    const data = await res.json();

    if (!res.ok) {
      alert(data.msg || "Cannot leave tournament");
      return;
    }

    alert(data.msg || "Left tournament successfully");

    // refresh UI
    loadTournaments();

  } catch (err) {
    console.error("Leave frontend error:", err);
    alert("Something went wrong while leaving");
  }
}

/* =========================
   VIEW TOURNAMENT (SMART)
========================= */
async function viewTournament(id) {
  try {
    /* 1Ô∏è‚É£ Tournament details */
    const res = await fetch(`${API_BASE}/tournament/${id}`, {
      headers: token ? { Authorization: "Bearer " + token } : {}
    });

    const t = await res.json();
    if (!res.ok) {
      alert(t.msg || "Failed to load tournament");
      return;
    }

    let message =
      `üèÜ TOURNAMENT DETAILS\n\n` +
      `Name: ${t.name}\n` +
      `Game: ${t.game}\n` +
      `Mode: ${t.mode}\n` +
      `Entry Fee: ‚Çπ${t.entryFee}\n` +
      `Prize Pool: ‚Çπ${t.prizePool}\n` +
      `Starts: ${formatTournamentDateTime(t.date, t.time)}
`;

    /* 2Ô∏è‚É£ If not joined, stop */
    if (!t.joined) {
      message += "‚ùå Join the tournament to see room details";
      alert(message);
      return;
    }

    /* 3Ô∏è‚É£ Room details (joined users only) */
    const roomRes = await fetch(`${API_BASE}/tournaments/${id}/room`, {
      headers: { Authorization: "Bearer " + token }
    });

    const room = await roomRes.json();

    message +=
      `üéÆ ROOM DETAILS\n` +
      `Room ID: ${room.roomId || "Not uploaded yet"}\n` +
      `Password: ${room.roomPassword || "Not uploaded yet"}`;

    alert(message);

  } catch (err) {
    console.error("View tournament error:", err);
    alert("Failed to view tournament");
  }
}

/* =========================
   LEADERBOARD
========================= */
async function loadLeaderboard() {
  const tid = document.getElementById("leaderboardSelect").value;
  if (!tid) return alert("Select a tournament first");

  const container = document.getElementById("leaderboardContainer");
  container.innerHTML = "Loading leaderboard...";

  try {
    const res = await fetch(`${API_BASE}/leaderboard/${tid}`, {
      headers: token ? { Authorization: "Bearer " + token } : {}
    });

    const data = await res.json();
    if (!data.success || !data.leaderboard?.length) {
      container.innerHTML = "No leaderboard data yet.";
      return;
    }

    const fallback = "https://cdn-icons-png.flaticon.com/512/147/147144.png";
    const sorted = data.leaderboard.sort((a, b) => a.position - b.position);

    container.innerHTML = `
      <div class="tl-top-wrapper">
        ${[1,2,3].map(pos => {
          const p = sorted.find(x => x.position === pos) || {};
          return `
            <div class="tl-top-card">
              <img src="${p.avatarUrl || fallback}">
              <h4>${pos === 1 ? "ü•á" : pos === 2 ? "ü•à" : "ü•â"} ${p.name || "Waiting..."}</h4>
              <div>‚Çπ${p.prize || 0}</div>
            </div>
          `;
        }).join("")}
      </div>
    `;

  } catch (err) {
    console.error(err);
    container.innerHTML = "Error loading leaderboard";
  }
}

/* =========================
   INIT
========================= */




/* =========================
   LOAD ACTIVE MATCH
========================= */
async function loadActiveMatch() {
  const token = localStorage.getItem("token");
  if (!token) return;

  try {
    const res = await fetch(`${API_BASE}/active-matches`, {
      headers: { Authorization: `Bearer ${token}` }
    });

    const data = await res.json();
    console.log("Active Match:", data);

    const box = document.getElementById("activeMatchBox");
    const content = document.getElementById("activeMatchContent");

    if (!data.success || !data.data) {
      box.style.display = "none";
      return;
    }

    const match = data.data;

    if (match.status === "completed") {
      box.style.display = "none";
      return;
    }

    box.style.display = "block";

    const statusLabel =
      match.status === "room_published"
        ? `<span style="color:#3cff8f;font-weight:bold;">Room Published ‚úì</span>`
        : `<span style="color:#ffd94c;">Waiting for Admin to Upload Room‚Ä¶</span>`;

    let prizeHtml = "";
    if (match.prizeSystem) {
      let prizeType = "-";
      if (match.prizeSystem === "kill_based") prizeType = "Kill Based";
      if (match.prizeSystem === "team_equal") prizeType = "Team Equal";
      prizeHtml = `<p><strong>Prize System:</strong> ${prizeType}</p>`;
    }

    let fullList = [...(match.players || [])];
    fullList.sort((a, b) => (a.team || 0) - (b.team || 0));

    let maxPlayers = fullList.length;
    const type = match.type.toLowerCase();
    if (type === "1v1") maxPlayers = 2;
    else if (type === "2v2") maxPlayers = 4;
    else if (type === "3v3") maxPlayers = 6;
    else if (type === "4v4") maxPlayers = 8;

    const finalPlayers = fullList.slice(0, maxPlayers);

    const playersList = finalPlayers
      .map(
        (p, i) =>
          `${i + 1}. ${p.name}${p.team != null ? ` ‚Ä¢ Team ${p.team}` : ""}`
      )
      .join("<br>");

    content.innerHTML = `
      <p><strong>Game:</strong> ${match.game}</p>
      <p><strong>Mode:</strong> ${match.mode}</p>
      <p><strong>Type:</strong> ${match.type}</p>
      <p><strong>Entry Fee:</strong> ‚Çπ${match.entryFee}</p>

      ${prizeHtml}

      <p><strong>Status:</strong> ${statusLabel}</p>

      <p style="opacity:0.7;margin-top:6px;">
        <strong>Match ID:</strong> ${  match._id}
      </p>

      <div style="margin-top:10px;">
        <strong>Players:</strong><br>
        ${playersList}
      </div>

      <button onclick="gotoRoom('${match._id}')">View Room</button>
    `;
  } catch (err) {
    console.error("Active match error:", err);
  }
}

function gotoRoom(id) {
  window.location.href = `user-room.html?matchId=${id}`;
}

/* =========================
   INIT
========================= */


const API = "http://battlepurse-98-8d98.onrender.com/api/wallet/join";

/* ----------------------------------
   GAME CONFIG
-----------------------------------*/
const GAME_CONFIG = { 
  "Ludo": { types: ["1v1","1v2","1v3","2v2"], modes: ["classic","popular","quick"] },
  "Carrom": { types: ["1v1","2v2"], modes: ["classic","freestyle"] },
  "8 Ball Pool": { types: ["1v1"], modes: ["classic"] },
  "Cricket": { types: ["1v1"], modes: ["1 over"] }
};

/* ----------------------------------
   DOWNLOAD LINKS
-----------------------------------*/
const DOWNLOAD_LINKS = {
  "Ludo": "https://play.google.com/store/apps/details?id=com.ludo.king",
  "Carrom": "https://play.google.com/store/apps/details?id=com.miniclip.carrom",
  "8 Ball Pool": "https://play.google.com/store/apps/details?id=com.miniclip.eightballpool",
  "Cricket": "https://play.google.com/store/apps/details?id=com.miniclip.cricketleague"
};

/* ----------------------------------
   DOM
-----------------------------------*/
const selectedTitle = document.getElementById("selectedTitle");
const formArea = document.getElementById("formArea");
const matchType = document.getElementById("matchType");
const matchMode = document.getElementById("matchMode");
const feeSelect = document.getElementById("fee");
const entryFee = document.getElementById("entryFee");
const gameUID = document.getElementById("gameUID");
const gameUIDLabel = document.getElementById("gameUIDLabel");
const whatsapp = document.getElementById("whatsapp");
const joinBtn = document.getElementById("joinBtn");
const message = document.getElementById("message");
const downloadBtn = document.getElementById("downloadGameBtn");
const cricketNote = document.getElementById("cricketNote");

let selectedGame = null;

/* ----------------------------------
   HELPERS
-----------------------------------*/
function setMessage(text, color="lightgreen") {
  message.style.color = color;
  message.textContent = text;
}

function disableJoin(msg) {
  joinBtn.style.display = "none";
  if (msg) setMessage(msg, "salmon");
}

function enableJoin() {
  joinBtn.style.display = "inline-block";
  message.textContent = "";
}

/* ----------------------------------
   UID LABEL + PLACEHOLDER
-----------------------------------*/
function updateUIDField(game) {
  gameUID.value = "";

  if (game === "Ludo") {
    gameUIDLabel.textContent = "Ludo King ID:";
    gameUID.placeholder = "Enter Ludo King ID";
  }
  else if (game === "Carrom") {
    gameUIDLabel.textContent = "Carrom ID:";
    gameUID.placeholder = "Enter Carrom ID";
  }
  else if (game === "8 Ball Pool") {
    gameUIDLabel.textContent = "Unique ID:";
    gameUID.placeholder = "Enter Unique ID";
  }
  else if (game === "Cricket") {
    gameUIDLabel.textContent = "Facebook Profile Link (Required):";
    gameUID.placeholder = "https://www.facebook.com/your.profile";
  }
}

/* ----------------------------------
   GAME SELECT
-----------------------------------*/
document.querySelectorAll(".game-card").forEach(card => {
  card.onclick = () => {
    document.querySelectorAll(".game-card")
      .forEach(c => c.classList.remove("active"));

    card.classList.add("active");

    selectedGame = card.dataset.game;
    selectedTitle.textContent = "Joining: " + selectedGame;
    formArea.style.display = "block";

    populateTypeMode(selectedGame);
    updateUIDField(selectedGame);

    // üèè Cricket rules
    if (selectedGame === "Cricket") {
      cricketNote.style.display = "block";
      cricketNote.textContent =
        "‚ö† Facebook profile link is mandatory for Cricket matches (Minimum Level 3 required)";
    } else {
      cricketNote.style.display = "none";
    }

    downloadBtn.style.display = "block";
    downloadBtn.textContent = `Download ${selectedGame}`;
    downloadBtn.onclick = () =>
      window.open(DOWNLOAD_LINKS[selectedGame], "_blank");
  };
});

/* ----------------------------------
   TYPE + MODE
-----------------------------------*/
function populateTypeMode(game) {
  matchType.innerHTML = "";
  matchMode.innerHTML = "";

  GAME_CONFIG[game].types.forEach(t => matchType.add(new Option(t, t)));
  GAME_CONFIG[game].modes.forEach(m => matchMode.add(new Option(m, m)));
}

/* ----------------------------------
   ENTRY FEE VALIDATION
-----------------------------------*/
function validateFee() {
  const fee =
    feeSelect.value === "custom"
      ? Number(entryFee.value)
      : Number(feeSelect.value);

  if (!fee || fee < 50) {
    disableJoin("‚ùå Minimum entry fee is ‚Çπ50");
  } else {
    enableJoin();
  }
}

feeSelect.onchange = () => {
  entryFee.style.display = feeSelect.value === "custom" ? "block" : "none";
  if (feeSelect.value !== "custom") entryFee.value = feeSelect.value;
  validateFee();
};

entryFee.oninput = validateFee;

/* ----------------------------------
   JOIN
-----------------------------------*/
joinBtn.onclick = async () => {
  const finalEntryFee =
    feeSelect.value === "custom"
      ? Number(entryFee.value)
      : Number(feeSelect.value);

  if (finalEntryFee < 50) return;

  if (!selectedGame) return setMessage("Select a game", "salmon");
  if (!whatsapp.value.trim()) return setMessage("Enter WhatsApp number", "salmon");

  // üèè Cricket Facebook validation
  if (selectedGame === "Cricket") {
    const fb = gameUID.value.trim();
    if (!fb) return setMessage("Facebook profile link is required", "salmon");
    if (!fb.startsWith("http") || !fb.includes("facebook.com")) {
      return setMessage("Enter a valid Facebook profile link", "salmon");
    }
  } else {
    if (!gameUID.value.trim()) return setMessage("Enter UID", "salmon");
  }

  const payload = {
    game: selectedGame,
    type: matchType.value,
    mode: matchMode.value,
    entryFee: finalEntryFee,
    uid: gameUID.value.trim(),
    whatsappNumber: whatsapp.value.trim()
  };

  try {
    setMessage("Joining...");

    const res = await fetch(API, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer " + localStorage.getItem("token")
      },
      body: JSON.stringify(payload)
    });

    const data = await res.json();

    if (data.success) {
      window.location.href = data.redirectUrl;
    } else {
      setMessage(data.msg, "salmon");
    }

  } catch {
    setMessage("Network error", "salmon");
  }
};



const UPLOAD_BASE = "https://battlepurse-98-8d98.onrender.com/uploads/";

const posterGrid = document.getElementById("posterGrid");

async function loadPosters() {
  try {
    const res = await fetch(`${API_BASE}/posters`);
    const data = await res.json();

    if (!data.success) throw new Error("Failed to load posters");

    posterGrid.innerHTML = "";

    if (!data.posters || data.posters.length === 0) {
      posterGrid.innerHTML = `
        <p style="grid-column:1/-1;text-align:center;opacity:0.7;">
          No posters available
        </p>
      `;
      return;
    }

    data.posters.forEach(poster => {
      const card = document.createElement("div");
      card.className = "poster-card";

      const imageUrl = poster.image
        ? UPLOAD_BASE + poster.image
        : "https://i.ibb.co/2d1zY0m/user.png"; // fallback

      card.innerHTML = `
        <img src="${imageUrl}" alt="${poster.game || "Poster"}">
        <div class="poster-info">${poster.game || "Tournament"}</div>
      `;

      // üëâ redirect logic (safe default)
     card.addEventListener("click", () => {
  const path = "kavi.html";

  // frontend-only navigation
  if (location.protocol.startsWith("http")) {
    window.location.href = path;
  }
});


      

    

      

      posterGrid.appendChild(card);
    });

  } catch (err) {
    console.error("Poster load error:", err);
    posterGrid.innerHTML = `
      <p style="grid-column:1/-1;color:#ff6b6b;text-align:center;">
        Error loading posters
      </p>
    `;
  }
}

// üöÄ Load on page open

const bpTexts = [
  "Skill Decides.",
  "Victory Pays.",
  "Play Smart. Win Real."
];

let bpIndex = 0;
const bpEl = document.getElementById("bp-rotate");

setInterval(() => {
  bpIndex = (bpIndex + 1) % bpTexts.length;
  bpEl.style.opacity = 0;

  setTimeout(() => {
    bpEl.textContent = bpTexts[bpIndex];
    bpEl.style.opacity = 1;
  }, 300);
}, 3000);


async function loadWalletBalance() {
  const token = localStorage.getItem("token");
  if (!token) return;

  try {
    const res = await fetch(
      "https://battlepurse-98-8d98.onrender.com/api/wallet/balance",
      {
        headers: {
          Authorization: "Bearer " + token
        }
      }
    );

    const data = await res.json();

    if (data.success) {
      document.getElementById("walletBalance").innerText =
        "‚Çπ" + (data.balance || 0);
    }
  } catch (err) {
    console.error("Wallet fetch error:", err);
  }
}

// Call on page load
loadWalletBalance();


document.addEventListener("DOMContentLoaded", loadPosters);

document.addEventListener("DOMContentLoaded", loadActiveMatch);

document.addEventListener("DOMContentLoaded", loadTournaments);

document.addEventListener("DOMContentLoaded", fetchWinners);

document.addEventListener("DOMContentLoaded", loadPromos);



</script>

</body>
</html>
